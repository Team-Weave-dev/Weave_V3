# 작업 후 문서 업데이트 템플릿 시스템

## 🎯 목적 및 핵심 가치

### 해결하는 문제
1. **문서 동기화 실패**: 작업 완료 후 claude.md 파일들이 업데이트되지 않아 컨텍스트 손실
2. **일관성 부재**: 업데이트 방식이 제각각이어서 문서 품질 저하
3. **정보 누락**: 중요한 구현 결정사항이나 패턴이 문서에 반영되지 않음
4. **관계 파악 실패**: 새로운 작업이 기존 시스템에 미치는 영향이 문서화되지 않음

### 핵심 가치
- **자동 일관성**: 모든 문서 업데이트가 동일한 패턴과 품질을 유지
- **완전성**: 작업의 모든 측면이 적절한 문서에 반영됨
- **관계 명시**: 기존 시스템과의 연관관계 명확히 문서화
- **미래 준비**: 다음 세션에서 필요한 모든 컨텍스트 보존

---

## 🗺️ 업데이트 대상 결정 매트릭스

### 작업 영역별 업데이트 파일 결정

| 작업 영역 | 필수 업데이트 파일 | 조건부 업데이트 파일 | 영향도 검토 파일 |
|-----------|-------------------|---------------------|------------------|
| **src/components/ui/** | components/ui/claude.md + CLAUDE.md | src/claude.md (새 패턴시) | config/claude.md (스타일 변경시) |
| **src/hooks/** | hooks/claude.md + CLAUDE.md | src/claude.md (패턴 변경시) | components/ui/claude.md (사용처 변경시) |
| **src/lib/** | lib/claude.md + CLAUDE.md | src/claude.md (아키텍처 변경시) | 모든 사용처 claude.md |
| **src/app/** | app/claude.md + CLAUDE.md | src/claude.md (라우팅 변경시) | config/claude.md (메타데이터 변경시) |
| **src/config/** | config/claude.md + 모든 하위 claude.md + CLAUDE.md + src/claude.md | - | 전체 프로젝트 영향 검토 |

### 업데이트 필요성 판단 기준

#### 필수 업데이트 조건
```yaml
항상_업데이트:
  - 새로운 파일 추가
  - 기존 파일 삭제
  - 공개 인터페이스 변경
  - 새로운 패턴 도입
  - 기존 패턴 수정

조건부_업데이트:
  - 내부 구현 변경 (외부 영향 있을 경우)
  - 성능 최적화 (사용법 변경 있을 경우)
  - 버그 수정 (패턴 변경 있을 경우)
  - 리팩터링 (인터페이스 변경 있을 경우)
```

#### 영향도 평가 체크리스트
- [ ] **의존성 체인**: 이 변경이 다른 컴포넌트/훅/유틸에 영향을 주는가?
- [ ] **사용 패턴**: 기존 사용법이 변경되거나 새로운 사용법이 추가되는가?
- [ ] **아키텍처**: 전체 시스템 구조나 원칙에 변화가 있는가?
- [ ] **설정 시스템**: 중앙화된 설정(brand.ts, constants.ts)에 변경이 있는가?

---

## 📝 카테고리별 업데이트 템플릿

## 1. 컴포넌트 추가/수정 템플릿

### 📦 components/ui/claude.md 업데이트

#### 새 컴포넌트 추가시
```markdown
## 📦 설치된 컴포넌트 (X개) ← 숫자 업데이트

### 기존 컴포넌트 목록...

- **새컴포넌트명**: 한 줄 기능 요약
  - **주요 기능**: 핵심 기능 3-5개 나열
  - **사용 패턴**: 일반적인 사용 시나리오
  - **특이사항**: 주의할 점, 고급 기능, 제약사항

*마지막 업데이트: YYYY-MM-DD*

## 🆕 최근 추가된 패턴 (새로운 패턴이 있는 경우)

### 새패턴명
새로운 패턴이 도입된 경우 여기에 설명:
```typescript
// 패턴 예시 코드
// 사용법과 적용 상황 설명
```

## 🔗 컴포넌트 간 관계 (관계 변경이 있는 경우)
새컴포넌트와 기존 컴포넌트들의 관계 설명
```

#### 기존 컴포넌트 수정시
```markdown
## 📦 설치된 컴포넌트 (X개)

- **수정된컴포넌트**: 기능 요약 (업데이트 필요시)
  - **주요 기능**: 변경된 기능 반영
  - **사용 패턴**: 새로운 사용법 추가
  - **특이사항**: 🆕 새로운 주의사항이나 변경점

*마지막 업데이트: YYYY-MM-DD*

## 🔄 최근 변경사항
- **YYYY-MM-DD**: 컴포넌트명 - 구체적 변경 내용과 영향
```

### 🏠 메인 CLAUDE.md 업데이트

#### 통계 업데이트
```markdown
🧩 components/ (X개) ← 숫자 자동 반영

### 🔄 최근 주요 변경사항
- **YYYY-MM-DD**: 새컴포넌트 추가 - 기능과 도입 배경
```

---

## 2. 훅 추가/수정 템플릿

### 🪝 hooks/claude.md 업데이트

#### 새 훅 추가시
```markdown
## 📦 설치된 훅 (X개) ← 숫자 업데이트

### 기존 훅 목록...

- **새훅명**: 훅의 목적과 주요 기능
  - **반환값**: 반환하는 값들과 타입
  - **매개변수**: 받는 매개변수들과 옵션
  - **사용 시나리오**: 언제, 어디서 사용하는지
  - **특이사항**: 성능 고려사항, 제약조건

*마지막 업데이트: YYYY-MM-DD*

## 🔗 훅 간 관계 (관계 변경이 있는 경우)
- 새훅 ↔ 기존훅: 관계 설명
- 새훅 → 사용 컴포넌트: 주요 사용처
```

### 📱 components/ui/claude.md 영향 확인
새 훅이 기존 컴포넌트에서 사용될 경우:
```markdown
## 🔄 최근 변경사항
- **YYYY-MM-DD**: 새훅 도입으로 컴포넌트명에서 사용 패턴 변경
```

---

## 3. 페이지 추가/수정 템플릿

### 📱 app/claude.md 업데이트

#### 새 페이지 추가시
```markdown
## 📁 페이지 구조

```
app/
├── 기존 페이지들...
└── 새경로/
    └── page.tsx        # 📄 새페이지 설명
```

## 🏗️ 새페이지명 - 페이지 설명

### 역할 및 책임
- **주요 목적**: 페이지의 핵심 기능과 목표
- **사용자 흐름**: 이 페이지에 도달하는 경로와 다음 액션
- **기술적 특징**: Server/Client Component 여부, 특별한 기능

### 핵심 구현
```typescript
// 주요 구현 예시 코드
```

### 특징
- **중앙화 적용**: 사용된 brand.ts, constants.ts 항목들
- **성능 최적화**: 적용된 최적화 기법
- **접근성**: 준수한 접근성 표준

## 🚦 라우팅 및 내비게이션

### 페이지 라우팅
- **새경로**: `경로` → `파일명`

*마지막 업데이트: YYYY-MM-DD*
```

---

## 4. 유틸리티 추가/수정 템플릿

### 📚 lib/claude.md 업데이트

#### 새 유틸리티 추가시
```markdown
## 📦 설치된 유틸리티 (X개) ← 숫자 업데이트

### 기존 유틸리티 목록...

- **새유틸리티명**: 유틸리티의 목적과 기능
  - **입력**: 받는 매개변수와 타입
  - **출력**: 반환하는 값과 타입
  - **사용 사례**: 주요 사용 시나리오
  - **성능**: 시간 복잡도, 메모리 사용량 등

*마지막 업데이트: YYYY-MM-DD*

## 🔗 유틸리티 간 의존성 (새로운 관계가 있는 경우)
- 새유틸리티 → 기존유틸리티: 의존 관계 설명
```

---

## 5. 설정 변경 템플릿

### ⚙️ config/claude.md 업데이트

#### 설정 파일 변경시
```markdown
# 변경된 설정 내용

## 🔄 변경사항 - YYYY-MM-DD
- **변경된 파일**: config/파일명.ts
- **변경 유형**: 추가/수정/삭제
- **변경 내용**: 구체적인 변경사항
- **영향받는 영역**: 이 변경으로 영향받는 컴포넌트/페이지들

## 📋 마이그레이션 가이드
기존 코드에서 새로운 설정을 사용하도록 변경하는 방법:

### 변경 전
```typescript
// 기존 코드 예시
```

### 변경 후
```typescript
// 새로운 코드 예시
```

## 📊 업데이트 체크리스트
- [ ] brand.ts 변경 → 모든 UI 컴포넌트 검토
- [ ] constants.ts 변경 → 레이아웃/스타일 사용처 검토
- [ ] 새로운 설정 → 관련 문서 예시 코드 업데이트

*마지막 업데이트: YYYY-MM-DD*
```

### 전체 프로젝트 영향 검토
설정 변경시 다음 파일들도 검토 필요:
- **src/claude.md**: 아키텍처 설명 업데이트
- **components/ui/claude.md**: 컴포넌트 사용 패턴 변경 사항
- **app/claude.md**: 페이지에서 사용하는 설정 변경 사항

---

## 📊 업데이트 실행 워크플로우

### 1. 변경 사항 분석
```yaml
분석_단계:
  1. 어떤 파일들이 추가/수정/삭제되었는가?
  2. 공개 인터페이스에 변경이 있는가?
  3. 새로운 패턴이나 아키텍처 변경이 있는가?
  4. 기존 사용법에 영향을 주는 변경인가?
```

### 2. 업데이트 대상 파일 결정
```yaml
결정_로직:
  필수_업데이트:
    - 직접 영향받는 디렉토리의 claude.md
    - 메인 CLAUDE.md

  조건부_업데이트:
    - 패턴 변경시: src/claude.md
    - 사용처 변경시: 관련 claude.md들
    - 설정 변경시: 전체 영향도 검토
```

### 3. 템플릿 적용 및 내용 생성
```yaml
적용_순서:
  1. 해당 카테고리의 템플릿 선택
  2. 기존 내용 분석 및 보존
  3. 새로운 내용 추가/수정
  4. 통계 및 날짜 업데이트
  5. 관계성 업데이트
```

### 4. 품질 검증
```yaml
검증_체크리스트:
  - [ ] 모든 숫자 통계가 정확한가?
  - [ ] 새로운 항목이 올바른 위치에 추가되었는가?
  - [ ] 기존 내용과 일관성이 있는가?
  - [ ] 날짜가 정확히 업데이트되었는가?
  - [ ] 관련 파일들의 상호 참조가 정확한가?
```

---

## 🔧 자동화 지원 도구

### 업데이트 전 체크리스트
작업 완료 직후 확인해야 할 항목들:

```yaml
파일_변경_확인:
  - [ ] 어떤 파일들이 생성되었는가?
  - [ ] 어떤 파일들이 수정되었는가?
  - [ ] 어떤 파일들이 삭제되었는가?

영향도_분석:
  - [ ] 새로운 의존성이 추가되었는가?
  - [ ] 기존 인터페이스가 변경되었는가?
  - [ ] 새로운 패턴이 도입되었는가?
  - [ ] 설정 시스템에 변경이 있는가?

문서_업데이트_범위:
  - [ ] 직접 영향받는 claude.md 파일들
  - [ ] 간접 영향받는 claude.md 파일들
  - [ ] 메인 CLAUDE.md 통계 업데이트
```

### 콘텐츠 생성 가이드
```yaml
콘텐츠_품질_기준:
  정확성:
    - 기술적 내용의 정확성
    - 코드 예시의 동작 가능성
    - 링크와 참조의 유효성

  완전성:
    - 모든 주요 기능 설명
    - 사용법과 제약사항 명시
    - 관련 컴포넌트와의 관계

  일관성:
    - 기존 문서와 동일한 형식
    - 용어 사용의 일관성
    - 구조와 패턴의 일관성
```

---

## 🚀 실제 적용 예시

### 예시 1: SearchInput 컴포넌트 추가

#### 작업 내용
- 새 파일 생성: `src/components/ui/search-input.tsx`
- 자동완성 기능이 있는 검색 입력 컴포넌트
- shadcn/ui 패턴 준수, 중앙화 시스템 사용

#### 적용된 업데이트

**components/ui/claude.md**:
```markdown
## 📦 설치된 컴포넌트 (27개) ← 26에서 27로 증가

- **search-input**: 자동완성 기능이 있는 검색 입력 컴포넌트
  - **주요 기능**: 실시간 검색, 키보드 네비게이션, 접근성 지원
  - **사용 패턴**: 필터링, 전역 검색, 선택적 자동완성
  - **특이사항**: onSearch callback과 suggestions prop 활용

*마지막 업데이트: 2024-01-15*

## 🆕 최근 추가된 패턴

### 자동완성 패턴
- Dropdown + Input 조합으로 suggestions 표시
- 키보드 네비게이션 (↑↓ Enter Esc) 지원
- 접근성: aria-expanded, aria-selected 속성 활용
```

**CLAUDE.md**:
```markdown
🧩 components/ (27개) ← 26에서 27로 업데이트

### 🔄 최근 주요 변경사항
- **2024-01-15**: SearchInput 컴포넌트 추가 - 자동완성 패턴 확립
```

### 예시 2: brand.ts 설정 변경

#### 작업 내용
- `config/brand.ts`에 새로운 알림 메시지 추가
- 기존 컴포넌트들이 새로운 메시지 사용하도록 수정

#### 적용된 업데이트

**config/claude.md**:
```markdown
## 🔄 변경사항 - 2024-01-15
- **변경된 파일**: config/brand.ts
- **변경 유형**: 추가
- **변경 내용**: notificationText 섹션에 새로운 메시지 추가
- **영향받는 영역**: Toast 컴포넌트, 알림 시스템

## 📋 마이그레이션 가이드

### 변경 전
```typescript
toast({ title: "Success" })
```

### 변경 후
```typescript
import { getNotificationText } from '@/config/brand'
toast({ title: getNotificationText.success('ko') })
```
```

**components/ui/claude.md**:
```markdown
## 🔄 최근 변경사항
- **2024-01-15**: 중앙화된 알림 메시지 시스템 도입으로 Toast 컴포넌트 사용 패턴 변경
```

---

## 📈 성공 지표 및 검증

### 문서 품질 지표
- **동기화율**: 작업 완료 후 1분 내 문서 업데이트 (목표: 100%)
- **정확성**: 문서 내용과 실제 코드의 일치도 (목표: 95% 이상)
- **완전성**: 모든 주요 변경사항의 문서화 (목표: 100%)
- **일관성**: 템플릿 준수율 (목표: 95% 이상)

### 컨텍스트 보존 지표
- **세션 연속성**: 새 세션에서 이전 컨텍스트 복구 성공률 (목표: 90% 이상)
- **패턴 일관성**: 기존 패턴 준수율 (목표: 95% 이상)
- **하드코딩 방지**: 중앙화 시스템 사용률 (목표: 100%)

### 개발 효율성 지표
- **컨텍스트 재구성 시간**: 새 세션 시작시 컨텍스트 파악 시간 (목표: 2분 이내)
- **문서 업데이트 시간**: 작업 완료 후 문서 업데이트 시간 (목표: 30초 이내)
- **일관성 검증 시간**: 기존 패턴과의 일치성 확인 시간 (목표: 1분 이내)

---

**이 템플릿 시스템은 Claude가 일관되고 완전한 문서 업데이트를 통해 프로젝트 컨텍스트를 완벽히 보존할 수 있도록 설계되었습니다.**