# src/lib/storage/services/__tests__ - 서비스 테스트

## 라인 가이드
- 012~014: 디렉토리 목적
- 015~018: 핵심 책임
- 019~021: 구조 요약
- 022~408: 파일 라인 맵
- 409~411: 중앙화·모듈화·캡슐화
- 412~415: 작업 규칙
- 416~420: 관련 문서

## 디렉토리 목적
도메인 서비스의 CRUD·필터·동기화 로직을 검증하는 테스트를 제공합니다.

## 핵심 책임
- 서비스별 생성·업데이트·삭제·동기화 시나리오 테스트
- 이벤트 브로드캐스트와 구독 처리 검증

## 구조 요약
- 하위 디렉토리가 없습니다.

## 파일 라인 맵
- CalendarService.test.ts 46~63 const keys
- CalendarService.test.ts 64~73 const eventData
- CalendarService.test.ts 74~82 const event
- CalendarService.test.ts 83~92 const eventData
- CalendarService.test.ts 93~93 const created
- CalendarService.test.ts 94~99 const retrieved
- CalendarService.test.ts 100~109 const eventData
- CalendarService.test.ts 110~110 const created
- CalendarService.test.ts 111~117 const updated
- CalendarService.test.ts 118~127 const eventData
- CalendarService.test.ts 128~128 const created
- CalendarService.test.ts 129~172 const deleted
- CalendarService.test.ts 173~182 const events
- CalendarService.test.ts 183~202 const events
- CalendarService.test.ts 203~237 const januaryEvents
- CalendarService.test.ts 238~244 const events
- CalendarService.test.ts 245~251 const events
- CalendarService.test.ts 252~252 const user1Events
- CalendarService.test.ts 253~293 const user2Events
- CalendarService.test.ts 294~294 const meetings
- CalendarService.test.ts 295~301 const deadlines
- CalendarService.test.ts 302~302 const workEvents
- CalendarService.test.ts 303~309 const personalEvents
- CalendarService.test.ts 310~316 const meetings
- CalendarService.test.ts 317~325 const deadlines
- CalendarService.test.ts 326~335 const event
- CalendarService.test.ts 336~342 const updated
- CalendarService.test.ts 343~352 const event
- CalendarService.test.ts 353~359 const confirmed
- CalendarService.test.ts 360~369 const event
- CalendarService.test.ts 370~376 const tentative
- CalendarService.test.ts 377~386 const event
- CalendarService.test.ts 387~395 const cancelled
- CalendarService.test.ts 396~396 const now
- CalendarService.test.ts 397~399 const yesterday
- CalendarService.test.ts 400~402 const tomorrow
- CalendarService.test.ts 403~447 const nextWeek
- CalendarService.test.ts 448~454 const upcoming
- CalendarService.test.ts 455~461 const past
- CalendarService.test.ts 462~467 const upcoming
- CalendarService.test.ts 468~479 const upcoming
- CalendarService.test.ts 480~493 const eventData
- CalendarService.test.ts 494~500 const event
- CalendarService.test.ts 501~501 const today
- CalendarService.test.ts 502~515 const eventData
- CalendarService.test.ts 516~516 const originalEvent
- CalendarService.test.ts 517~521 const nextEvent
- CalendarService.test.ts 522~527 const nextWeek
- CalendarService.test.ts 528~528 const today
- CalendarService.test.ts 529~531 const yesterday
- CalendarService.test.ts 532~546 const eventData
- CalendarService.test.ts 547~547 const event
- CalendarService.test.ts 548~553 const nextEvent
- CalendarService.test.ts 554~554 const startDate
- CalendarService.test.ts 555~556 const endDate
- CalendarService.test.ts 557~570 const eventData
- CalendarService.test.ts 571~571 const originalEvent
- CalendarService.test.ts 572~575 const nextEvent
- CalendarService.test.ts 576~576 const originalDuration
- CalendarService.test.ts 577~613 const nextDuration
- CalendarService.test.ts 614~620 const events
- CalendarService.test.ts 621~653 const events
- CalendarService.test.ts 654~660 const events
- CalendarService.test.ts 661~667 const events
- CalendarService.test.ts 668~673 const events
- ClientService.test.ts 13~51 const localStorageMock - Mock localStorage
- ClientService.test.ts 52~56 const clientData
- ClientService.test.ts 57~66 const client
- ClientService.test.ts 67~71 const client
- ClientService.test.ts 72~79 const retrieved
- ClientService.test.ts 80~84 const client
- ClientService.test.ts 85~95 const updated
- ClientService.test.ts 096~102 const client
- ClientService.test.ts 103~111 const retrieved
- ClientService.test.ts 112~126 const allClients
- ClientService.test.ts 127~133 const clients
- ClientService.test.ts 134~140 const companyClients
- ClientService.test.ts 141~171 const individualClients
- ClientService.test.ts 172~178 const results
- ClientService.test.ts 179~185 const results
- ClientService.test.ts 186~192 const results
- ClientService.test.ts 193~199 const results
- ClientService.test.ts 200~206 const client
- ClientService.test.ts 207~214 const client
- ClientService.test.ts 215~219 const client
- ClientService.test.ts 220~238 const updated
- ClientService.test.ts 239~247 const client
- ClientService.test.ts 248~276 const updated
- ClientService.test.ts 277~298 const nyClients
- ClientService.test.ts 299~306 const usaClients
- ClientService.test.ts 307~311 const client
- ClientService.test.ts 312~323 const updated
- ClientService.test.ts 324~335 const client
- ClientService.test.ts 336~342 const updated
- ClientService.test.ts 343~351 const client
- ClientService.test.ts 352~358 const updated
- ClientService.test.ts 359~364 const client
- ClientService.test.ts 365~374 const updated
- ClientService.test.ts 375~383 const client
- ClientService.test.ts 384~390 const updated
- ClientService.test.ts 391~399 const client
- ClientService.test.ts 400~408 const primary
- ClientService.test.ts 409~413 const client
- ClientService.test.ts 414~419 const updated
- ClientService.test.ts 420~437 const client
- ClientService.test.ts 438~447 const fiveStarClients
- ClientService.test.ts 448~455 const highRatedClients
- ClientService.test.ts 456~460 const client
- ClientService.test.ts 461~466 const updated
- ClientService.test.ts 467~472 const client
- ClientService.test.ts 473~478 const updated
- ClientService.test.ts 479~484 const client
- ClientService.test.ts 485~494 const updated
- ClientService.test.ts 495~502 const vipClients
- ClientService.test.ts 503~507 const client
- ClientService.test.ts 508~514 const updated
- ClientService.test.ts 515~520 const client
- ClientService.test.ts 521~527 const updated
- ClientService.test.ts 528~533 const client
- ClientService.test.ts 534~541 const updated
- ClientService.test.ts 542~546 const client
- ClientService.test.ts 547~564 const updated
- ClientService.test.ts 565~578 const techClients
- ClientService.test.ts 579~586 const sorted
- ClientService.test.ts 587~594 const sorted
- ClientService.test.ts 595~602 const sorted
- ClientService.test.ts 603~606 const recent
- ClientService.test.ts 607~637 const names - Recently created clients (order may vary due to same timestamp)
- ClientService.test.ts 638~644 const counts
- ClientService.test.ts 645~652 const stats
- ClientService.test.ts 653~662 const stats
- ClientService.test.ts 663~679 const avgRating
- ClientService.test.ts 680~685 const avgRating
- DashboardService.test.ts 14~83 const localStorageMock - Mock localStorage
- DashboardService.test.ts 84~93 const loaded
- DashboardService.test.ts 094~101 const loaded
- DashboardService.test.ts 102~111 const loaded
- DashboardService.test.ts 112~133 const loaded
- DashboardService.test.ts 134~141 const loaded
- DashboardService.test.ts 142~148 const widgets
- DashboardService.test.ts 149~168 const widgets
- DashboardService.test.ts 169~177 const loaded
- DashboardService.test.ts 178~184 const config
- DashboardService.test.ts 185~197 const config
- DashboardService.test.ts 198~217 const loaded
- DashboardService.test.ts 218~241 const loaded
- DashboardService.test.ts 242~258 const loaded
- DashboardService.test.ts 259~272 const loaded
- DashboardService.test.ts 273~278 const loaded
- DocumentService.test.ts 13~49 const localStorageMock - Mock localStorage
- DocumentService.test.ts 50~58 const docData
- DocumentService.test.ts 59~67 const doc
- DocumentService.test.ts 68~76 const doc
- DocumentService.test.ts 77~83 const retrieved
- DocumentService.test.ts 84~92 const doc
- DocumentService.test.ts 093~102 const updated
- DocumentService.test.ts 103~113 const doc
- DocumentService.test.ts 114~147 const retrieved
- DocumentService.test.ts 148~154 const docs
- DocumentService.test.ts 155~161 const docs
- DocumentService.test.ts 162~168 const contracts
- DocumentService.test.ts 169~212 const drafts
- DocumentService.test.ts 213~219 const contracts
- DocumentService.test.ts 220~226 const invoices
- DocumentService.test.ts 227~233 const estimates
- DocumentService.test.ts 234~240 const reports
- DocumentService.test.ts 241~247 const drafts
- DocumentService.test.ts 248~254 const sent
- DocumentService.test.ts 255~261 const approved
- DocumentService.test.ts 262~283 const results
- DocumentService.test.ts 284~289 const updated
- DocumentService.test.ts 290~295 const updated
- DocumentService.test.ts 296~301 const updated
- DocumentService.test.ts 302~307 const updated
- DocumentService.test.ts 308~313 const updated
- DocumentService.test.ts 314~334 const updated
- DocumentService.test.ts 335~346 const updated
- DocumentService.test.ts 347~355 const updated
- DocumentService.test.ts 356~364 const updated
- DocumentService.test.ts 365~374 const doc2
- DocumentService.test.ts 375~391 const requiring
- DocumentService.test.ts 392~400 const signed
- DocumentService.test.ts 401~410 const doc
- DocumentService.test.ts 411~435 const updated
- DocumentService.test.ts 436~470 const v1Docs
- DocumentService.test.ts 471~473 const latest
- DocumentService.test.ts 474~493 const contractDoc
- DocumentService.test.ts 494~501 const updated
- DocumentService.test.ts 502~509 const updated
- DocumentService.test.ts 510~518 const urgent
- DocumentService.test.ts 519~528 const doc2
- DocumentService.test.ts 529~537 const matching
- DocumentService.test.ts 538~538 const date1
- DocumentService.test.ts 539~539 const date2
- DocumentService.test.ts 540~566 const date3
- DocumentService.test.ts 567~597 const inRange
- DocumentService.test.ts 598~607 const recent
- DocumentService.test.ts 608~616 const doc
- DocumentService.test.ts 617~647 const updated
- DocumentService.test.ts 648~655 const grouped
- ProjectService.test.ts 46~63 const keys
- ProjectService.test.ts 64~77 const projectData
- ProjectService.test.ts 78~86 const project
- ProjectService.test.ts 087~100 const projectData
- ProjectService.test.ts 101~101 const created
- ProjectService.test.ts 102~107 const retrieved
- ProjectService.test.ts 108~112 const retrieved
- ProjectService.test.ts 113~126 const projectData1
- ProjectService.test.ts 127~143 const projectData2
- ProjectService.test.ts 144~149 const projects
- ProjectService.test.ts 150~163 const projectData
- ProjectService.test.ts 164~164 const created
- ProjectService.test.ts 165~172 const updated
- ProjectService.test.ts 173~186 const projectData
- ProjectService.test.ts 187~187 const created
- ProjectService.test.ts 188~224 const deleted
- ProjectService.test.ts 225~225 const planningProjects
- ProjectService.test.ts 226~263 const activeProjects
- ProjectService.test.ts 264~300 const clientAProjects
- ProjectService.test.ts 301~301 const reactProjects
- ProjectService.test.ts 302~310 const buildingProjects
- ProjectService.test.ts 311~324 const project
- ProjectService.test.ts 325~329 const taskData
- ProjectService.test.ts 330~339 const updated
- ProjectService.test.ts 340~353 const project
- ProjectService.test.ts 354~358 const withTask
- ProjectService.test.ts 359~359 const taskId
- ProjectService.test.ts 360~369 const updated
- ProjectService.test.ts 370~383 const project
- ProjectService.test.ts 384~388 const withTask
- ProjectService.test.ts 389~389 const taskId
- ProjectService.test.ts 390~396 const updated
- ProjectService.test.ts 397~411 const project
- ProjectService.test.ts 412~417 let updated - Add 4 tasks
- ProjectService.test.ts 418~418 const task1Id - Complete 2 tasks, 1 in progress
- ProjectService.test.ts 419~419 const task2Id
- ProjectService.test.ts 420~425 const task3Id
- ProjectService.test.ts 426~434 const progress
- ProjectService.test.ts 435~448 const project
- ProjectService.test.ts 449~455 const updated
- ProjectService.test.ts 456~469 const project
- ProjectService.test.ts 470~476 const updated
- ProjectService.test.ts 477~490 const project
- ProjectService.test.ts 491~497 const updated
- ProjectService.test.ts 498~511 const project
- ProjectService.test.ts 512~512 const updated1
- ProjectService.test.ts 513~521 const updated2
- ProjectService.test.ts 522~543 const project
- ProjectService.test.ts 544~552 const updated
- ProjectService.test.ts 553~574 const project
- ProjectService.test.ts 575~575 const withDoc
- ProjectService.test.ts 576~586 const updated
- ProjectService.test.ts 587~600 const project
- ProjectService.test.ts 601~607 const updated
- ProjectService.test.ts 608~621 const project
- ProjectService.test.ts 622~629 const updated
- ProjectService.test.ts 630~643 const project
- ProjectService.test.ts 644~703 const updated
- ProjectService.test.ts 704~710 const active
- ProjectService.test.ts 711~717 const completed
- ProjectService.test.ts 718~726 const projects
- ProjectService.test.ts 727~735 const overdue
- ProjectService.test.ts 736~749 const p1
- ProjectService.test.ts 750~763 const p2
- ProjectService.test.ts 764~769 const projects
- ProjectService.test.ts 770~798 const projectsData
- ProjectService.test.ts 799~805 const created
- SettingsService.test.ts 14~37 const localStorageMock - Mock localStorage
- SettingsService.test.ts 38~52 const userId
- SettingsService.test.ts 53~63 const settings
- SettingsService.test.ts 64~64 const first
- SettingsService.test.ts 65~72 const second
- SettingsService.test.ts 73~79 const settings
- SettingsService.test.ts 80~87 const settings
- SettingsService.test.ts 088~101 const updated
- SettingsService.test.ts 102~104 const deleted
- SettingsService.test.ts 105~109 const settings
- SettingsService.test.ts 110~119 const deleted
- SettingsService.test.ts 120~137 const reset
- SettingsService.test.ts 138~151 const updated
- SettingsService.test.ts 152~164 const updated
- SettingsService.test.ts 165~181 const updated
- SettingsService.test.ts 182~194 const reset
- SettingsService.test.ts 195~200 const updated
- SettingsService.test.ts 201~206 const updated
- SettingsService.test.ts 207~215 const updated
- SettingsService.test.ts 216~222 const updated
- SettingsService.test.ts 223~234 const updated
- SettingsService.test.ts 235~240 const updated
- SettingsService.test.ts 241~252 const updated
- SettingsService.test.ts 253~259 const updated
- SettingsService.test.ts 260~265 const updated
- SettingsService.test.ts 266~271 const updated
- SettingsService.test.ts 272~277 const updated
- SettingsService.test.ts 278~289 const updated
- SettingsService.test.ts 290~295 const updated
- SettingsService.test.ts 296~301 const updated
- SettingsService.test.ts 302~307 const updated
- SettingsService.test.ts 308~313 const updated
- SettingsService.test.ts 314~325 const updated
- SettingsService.test.ts 326~328 const exported
- SettingsService.test.ts 329~337 const parsed
- SettingsService.test.ts 338~338 const original
- SettingsService.test.ts 339~344 const exported
- SettingsService.test.ts 345~350 const imported - 원래 설정 가져오기
- SettingsService.test.ts 351~351 const settings
- SettingsService.test.ts 352~353 const exported
- SettingsService.test.ts 354~354 const newUserId
- SettingsService.test.ts 355~361 const imported
- SettingsService.test.ts 362~369 const invalidSettings
- SettingsService.test.ts 370~380 const updated
- SettingsService.test.ts 381~407 const updated - userId를 변경하려고 시도
- SettingsService.test.ts 408~418 const settings
- SettingsService.test.ts 419~423 const settings
- TaskService.test.ts 46~63 const keys
- TaskService.test.ts 64~72 const taskData
- TaskService.test.ts 73~81 const task
- TaskService.test.ts 82~89 const taskData
- TaskService.test.ts 90~90 const created
- TaskService.test.ts 91~96 const retrieved
- TaskService.test.ts 097~104 const taskData
- TaskService.test.ts 105~105 const created
- TaskService.test.ts 106~112 const updated
- TaskService.test.ts 113~120 const taskData
- TaskService.test.ts 121~121 const created
- TaskService.test.ts 122~156 const deleted
- TaskService.test.ts 157~163 const tasks
- TaskService.test.ts 164~170 const tasks
- TaskService.test.ts 171~171 const pending
- TaskService.test.ts 172~172 const inProgress
- TaskService.test.ts 173~180 const completed
- TaskService.test.ts 181~181 const high
- TaskService.test.ts 182~188 const medium
- TaskService.test.ts 189~195 const active
- TaskService.test.ts 196~204 const urgent
- TaskService.test.ts 205~212 const task
- TaskService.test.ts 213~219 const updated
- TaskService.test.ts 220~227 const task
- TaskService.test.ts 228~235 const completed
- TaskService.test.ts 236~243 const task
- TaskService.test.ts 244~251 const started
- TaskService.test.ts 252~259 const task
- TaskService.test.ts 260~268 const cancelled
- TaskService.test.ts 269~276 const parent
- TaskService.test.ts 277~287 const subtask
- TaskService.test.ts 288~292 const updated
- TaskService.test.ts 293~300 const parent
- TaskService.test.ts 301~308 const subtask
- TaskService.test.ts 309~313 const removed
- TaskService.test.ts 314~318 const updated
- TaskService.test.ts 319~342 const parent
- TaskService.test.ts 343~364 const subtasks
- TaskService.test.ts 365~372 const task1
- TaskService.test.ts 373~380 const task2
- TaskService.test.ts 381~387 const updated
- TaskService.test.ts 388~395 const task1
- TaskService.test.ts 396~404 const task2
- TaskService.test.ts 405~411 const updated
- TaskService.test.ts 412~425 const task
- TaskService.test.ts 426~433 const task1
- TaskService.test.ts 434~441 const task2
- TaskService.test.ts 442~460 const task3
- TaskService.test.ts 461~468 const task1
- TaskService.test.ts 469~491 const task2
- TaskService.test.ts 492~492 const now
- TaskService.test.ts 493~495 const yesterday
- TaskService.test.ts 496~498 const tomorrow
- TaskService.test.ts 499~539 const nextWeek
- TaskService.test.ts 540~546 const overdue
- TaskService.test.ts 547~553 const today
- TaskService.test.ts 554~559 const thisWeek
- TaskService.test.ts 560~568 const task
- TaskService.test.ts 569~576 const overdue
- TaskService.test.ts 577~589 const taskData
- TaskService.test.ts 590~596 const task
- TaskService.test.ts 597~597 const today
- TaskService.test.ts 598~610 const taskData
- TaskService.test.ts 611~611 const originalTask
- TaskService.test.ts 612~617 const nextTask
- TaskService.test.ts 618~623 const tomorrow
- TaskService.test.ts 624~624 const today
- TaskService.test.ts 625~627 const yesterday
- TaskService.test.ts 628~641 const taskData
- TaskService.test.ts 642~642 const task
- TaskService.test.ts 643~648 const nextTask

## 중앙화·모듈화·캡슐화
- 서비스 테스트는 이 디렉터리에서 관리

## 작업 규칙
- 서비스 로직 변경 시 대응 테스트를 업데이트
- 테스트 데이터는 목 데이터를 활용

## 관련 문서
- src/lib/storage/services/claude.md
- src/lib/storage/__tests__/claude.md
- src/lib/storage/types/claude.md
